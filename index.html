<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>LEGO Mindstorms EV3 Debian C library + Python, Ruby and Perl wrappers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LEGO Mindstorms EV3 Debian C library + Python, Ruby and Perl wrappers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><center> <pre class="fragment"> 
 ____ __     ____   ___    ____ __         (((((()
| |_  \ \  /   ) ) | |  ) | |_  \ \  /  \(@)- /   
|_|__  \_\/  __)_) |_|_/  |_|__  \_\/   /(@)- \   
                                           ((())))
 
</pre> </center><h2>The <a href="https://github.com/in4lio/ev3dev-c/">library</a> hierarchic structure</h2>
<h3>I LEVEL</h3>
<p>This level contains functions for a <a class="el" href="group__ev3.html">local</a> and <a class="el" href="group__ev3__link.html">remote</a> access to the file system of the EV3 brick. The following code will write the value in the file (on the brick) or will send these data in an UDP message to the brick (on the remote computer). </p><div class="fragment"><div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>();</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga4fa0d81a67bb2ffa3ad2c9979218582e">ev3_write</a>( <span class="stringliteral">&quot;/sys/class/leds/ev3:red:right/trigger&quot;</span>, <span class="stringliteral">&quot;heartbeat&quot;</span> );</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>();</div>
</div><!-- fragment --><p> For more information about a remote access to the EV3 brick go to <a href="https://github.com/in4lio/ev3dev-c/tree/master/source/ev3/ev3_link">"source/ev3/ev3_link/README"</a>.</p>
<h3>II LEVEL</h3>
<p>Basic <a class="el" href="group__ev3__led.html">functions</a> to read and write attributes of LEDs, see <a href="https://github.com/ev3dev/ev3dev/wiki/Using-the-LEDs">"Using LEDs"</a>. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> ok, val;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>();</div>
<div class="line"></div>
<div class="line">ok = <a class="code" href="group__ev3__led.html#ga41013cb645955f43f75ff63525051e7a">get_led_brightness</a>( EV3_GREEN_LEFT, &amp;val );</div>
<div class="line"><span class="keywordflow">if</span> ( ok ) {</div>
<div class="line">    printf( <span class="stringliteral">&quot;EV3_GREEN_LEFT is %s&quot;</span>, ( val ) ? <span class="stringliteral">&quot;ON&quot;</span> : <span class="stringliteral">&quot;OFF&quot;</span> );</div>
<div class="line">}</div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>();</div>
</div><!-- fragment --><p> Basic <a class="el" href="group__ev3__sensor.html">functions</a> to read and write attributes of sensors, see <a href="https://github.com/ev3dev/ev3dev/wiki/Using-the-Mindstorms-Sensor-Device-Class">"Using sensors"</a>. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> val;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>();</div>
<div class="line"><a class="code" href="group__ev3__sensor.html#ga08e26f670c96ed449419b2ac62aec842">ev3_sensor_init</a>();</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__sensor.html#ga10a576cc626d6da2d19351d1eb315e5d">get_sensor_value</a>( 0, INPUT_1, &amp;val )) {</div>
<div class="line">    printf( <span class="stringliteral">&quot;EV3_TOUCH value = %d&quot;</span>, val );</div>
<div class="line">}</div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>();</div>
</div><!-- fragment --><p> Basic <a class="el" href="group__ev3__tacho.html">functions</a> to read and write attributes of tacho-motors, see <a href="https://github.com/ev3dev/ev3dev/wiki/Using-Motors">"Using motors"</a>. </p><div class="fragment"><div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>();</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ( <a class="code" href="group__ev3__tacho.html#ga6912f96d1f2dfab0cbd80939120f96cb">ev3_tacho_init</a>() &gt; 0 ) {</div>
<div class="line">    uint8_t <span class="keywordtype">id</span> = <a class="code" href="group__ev3__tacho.html#ga03446051bd6fb2f25e9fd045cc1464b1">ev3_tacho</a>[ OUTPUT_A ].<a class="code" href="structEV3__TACHO.html#abaabdc509cdaba7df9f56c6c76f3ae19">id</a>;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga86cda3a6873ca09232b00a645e82bed2">set_tacho_regulation_mode</a>( <span class="keywordtype">id</span>, <span class="stringliteral">&quot;off&quot;</span> );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga21e3fc1479dbd87a0d4072a62c060e0a">set_tacho_run_mode</a>( <span class="keywordtype">id</span>, <span class="stringliteral">&quot;time&quot;</span> );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga29908b3da0a7642fe8aa63f128ffc5a9">set_tacho_stop_mode</a>( <span class="keywordtype">id</span>, <span class="stringliteral">&quot;brake&quot;</span> );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga18e589671fe635eab77d969213b3ae72">set_tacho_duty_cycle_sp</a>( <span class="keywordtype">id</span>, 100 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#gaeba97d5fad26f7bff1bdbde1b48ecdbe">set_tacho_time_sp</a>( <span class="keywordtype">id</span>, 5000 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga13021aa68eb93544e995ae874ab6f8b5">set_tacho_ramp_up_sp</a>( <span class="keywordtype">id</span>, 2000 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga51735a8ab67aed34c02f54b66159eae8">set_tacho_ramp_down_sp</a>( <span class="keywordtype">id</span>, 2000 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#gab0b729201d692161541d0fd29b007f1e">set_tacho_run</a>( <span class="keywordtype">id</span>, <span class="keyword">true</span> );</div>
<div class="line">}</div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>();</div>
</div><!-- fragment --><h3>III LEVEL</h3>
<p>Task-focused user-friendly functions. Only <a class="el" href="group__ev3__light.html">light</a> module in this category at the moment. </p><div class="fragment"><div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>();</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3__light.html#gab565a1029451f145ab3b4b2ab58885f8">set_light_blink</a>( LIT_LEFT, LIT_AMBER, 1000, 500 );</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>();</div>
</div><!-- fragment --><p><br />
</p><hr/>
 <h2>Python, Ruby, Perl and other languages</h2>
<p><a href="https://pypi.python.org/pypi/ev3dev-c/">Libraries</a> on Python and Ruby have been generated using <a href="http://www.swig.org/">SWIG</a>. The SWIG interface file called "ev3.i", its source is <a href="https://github.com/in4lio/ev3dev-c/blob/master/ev3.yu-i">"ev3.yu-i"</a>. </p>
<p>Features of Python library:</p><ol type="1">
<li>Functions return a value as the second element of the result tuple;</li>
<li>Access to lists of detected devices only through <a class="el" href="group__ev3__sensor.html#gae5bc1b3f7a1585b6f3c2132a61872321">ev3_get_sensor</a>, <a class="el" href="group__ev3__tacho.html#gab11e1b2aa21554e4d7e69834b0418918">ev3_get_tacho</a> and ev3_get_&lt;class&gt;_&lt;field&gt; functions;</li>
<li>Access to other global variables through "ev3" namespace.</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;color = [ <span class="stringliteral">&#39;?&#39;</span>, <span class="stringliteral">&#39;BLACK&#39;</span>, <span class="stringliteral">&#39;BLUE&#39;</span>, <span class="stringliteral">&#39;GREEN&#39;</span>, <span class="stringliteral">&#39;YELLOW&#39;</span>, <span class="stringliteral">&#39;RED&#39;</span>, <span class="stringliteral">&#39;WHITE&#39;</span>, <span class="stringliteral">&#39;BROWN&#39;</span> ]</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keywordflow">if</span> <span class="keywordflow">not</span> EV3_BRICK:</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    ev3.brick_addr = <span class="stringliteral">&#39;192.168.0.204&#39;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>()</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<a class="code" href="group__ev3__sensor.html#ga08e26f670c96ed449419b2ac62aec842">ev3_sensor_init</a>()</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;port = <a class="code" href="group__ev3__sensor.html#ga821db2d36cac6ebfd2387944b10b6031">ev3_sensor_port</a>( EV3_COLOR )</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keywordflow">if</span> port != EV3_NONE:</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    id = <a class="code" href="group__ev3__sensor.html#ga5f09f12f42d67e06e1443bf4c5dbe120">ev3_get_sensor_id</a>( port )</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="group__ev3__sensor.html#gab1d8488d679f6f46102087be68da7540">set_sensor_mode</a>( id, <span class="stringliteral">&#39;COL-COLOR&#39;</span> )</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    ok, val = <a class="code" href="group__ev3__sensor.html#ga10a576cc626d6da2d19351d1eb315e5d">get_sensor_value</a>( 0, id )</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keywordflow">if</span> ok:</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;        <span class="keywordflow">print</span> <span class="stringliteral">&#39;EV3_COLOR =&#39;</span>, color[ val ]</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>()</div>
</div><!-- fragment --> <p>Features of Ruby library:</p><ol type="1">
<li>Functions return a value as the second element of the result tuple, the first element has a boolean type;</li>
<li>Access to lists of detected devices only through <a class="el" href="group__ev3__sensor.html#gae5bc1b3f7a1585b6f3c2132a61872321">ev3_get_sensor</a>, <a class="el" href="group__ev3__tacho.html#gab11e1b2aa21554e4d7e69834b0418918">ev3_get_tacho</a> and ev3_get_&lt;class&gt;_&lt;field&gt;(port) functions.</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;include Ev3</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keywordflow">if</span> <a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3_init</a>() &lt; 1 then exit( 1 ) end</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<a class="code" href="group__ev3__sensor.html#ga08e26f670c96ed449419b2ac62aec842">ev3_sensor_init</a>()</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;p_touch = <a class="code" href="group__ev3__sensor.html#ga821db2d36cac6ebfd2387944b10b6031">ev3_sensor_port</a>( EV3_TOUCH )</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keywordflow">if</span> p_touch != EV3_NONE</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;  id_touch = <a class="code" href="group__ev3__sensor.html#ga5f09f12f42d67e06e1443bf4c5dbe120">ev3_get_sensor_id</a>( p_touch )</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <span class="keywordflow">while</span> <a class="code" href="group__ev3__sensor.html#ga10a576cc626d6da2d19351d1eb315e5d">get_sensor_value</a>( 0, id_touch )[ 1 ] == 0 do end</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;end</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3_uninit</a>()</div>
</div><!-- fragment --> <p>Features of Perl library:</p><ol type="1">
<li>Functions return a value as the second element of the result tuple;</li>
<li>Access to lists of detected devices only through ev3_get_&lt;class&gt;_&lt;field&gt;(port) functions.</li>
</ol>
<div class="fragment"><div class="line">use ev3;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__ev3.html#ga2ec28f7f97485be0445a5661f35e9707">ev3::ev3_init</a>() &gt; 0 || exit( 1 );</div>
<div class="line"><a class="code" href="group__ev3__tacho.html#ga6912f96d1f2dfab0cbd80939120f96cb">ev3::ev3_tacho_init</a>();</div>
<div class="line"></div>
<div class="line">my $port = <a class="code" href="group__ev3__tacho.html#gaa8c21129314701631648df3a36226683">ev3::ev3_tacho_port</a>( $ev3::MINITACHO );</div>
<div class="line"><span class="keywordflow">if</span> ( $port != <a class="code" href="group__ev3.html#ga862146c096657ab26f391a77cccc72a8">$ev3::EV3_NONE</a> ) {</div>
<div class="line">    my $id = <a class="code" href="group__ev3__tacho.html#ga969401261602562382cb8ab8e9e969a1">ev3::ev3_get_tacho_id</a>( $port );</div>
<div class="line"></div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga86cda3a6873ca09232b00a645e82bed2">ev3::set_tacho_regulation_mode</a>( $id, <span class="stringliteral">&quot;off&quot;</span> );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#ga18e589671fe635eab77d969213b3ae72">ev3::set_tacho_duty_cycle_sp</a>( $id, 50 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#gab0b729201d692161541d0fd29b007f1e">ev3::set_tacho_run</a>( $id, 1 );</div>
<div class="line">    sleep( 2 );</div>
<div class="line">    <a class="code" href="group__ev3__tacho.html#gab0b729201d692161541d0fd29b007f1e">ev3::set_tacho_run</a>( $id, 0 );</div>
<div class="line">}</div>
<div class="line"><a class="code" href="group__ev3.html#ga7b5a520d3e5998127b7c84d11258d44e">ev3::ev3_uninit</a>();</div>
</div><!-- fragment --><p> Similarly, you can use SWIG to wrap the library in a number of other languages.</p>
<p><br />
</p><hr/>
 <h2>TODO</h2>
<p>EV3 buttons, sound, LCD, Bluetooth, files transfer, 3rd level modules etc... </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 2 2014 13:35:58 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
